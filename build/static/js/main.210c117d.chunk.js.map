{"version":3,"sources":["img/publisher_icon.png","img/lock.svg","img/hashtag_icon.png","panels/Home.js","utils/utils.js","components/Tags.js","utils/myDate.js","panels/Feed.js","components/PayWall.js","components/AppState.js","panels/Article.js","panels/SubscribePage.js","panels/GetOneArticle.js","panels/ChannelPreview.js","panels/PublisherAccount.js","utils/navigator.js","panels/ArticleEditor.js","App.js","sw.js","index.js"],"names":["module","exports","__webpack_require__","p","Home","platform","props","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_this","window","getGlobalState","currentSubscribtion","setTimeout","open","react_default","a","createElement","vkui","id","React","Component","getUrlData","urlData","location","hash","length","substr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","split","Symbol","iterator","next","done","hashPart","value","includes","err","return","capitalize","string","charAt","toUpperCase","slice","tagColor","tag","stylishColors","forEach","char","index","charCodeAt","changeDataInUrl","dataDif","newHash","substring","connect","send","setUrlData","assign","Tags","tags","selectedTags","map","style","margin","background","color","boxShadow","onClick","toggleTag","myDate","lang","dateJS","Date","parseInt","newString","parse","date","getTime","newDate","getDate","getMonth","getFullYear","day","month","year","offset","setDate","setMonth","setFullYear","setMinutes","getMinutes","setHours","getHours","monthString","monthStringShort","time","isToday","isYesterday","today","Math","floor","months","pastMonths","number","word","Array","isArray","pastSeconds","countable","pastMinutes","pastHours","pastDays","pastWeeks","pastYears","getDay","osname","Feed","state","articles","searchQuery","popularTags","isUserPublisher","_this2","axios","get","concat","apiUrl","then","res","allPublishers","data","result","publishers","setState","filter","channel","userProfile","auth","catch","console","log","globalState","url","previewFeedMode","signed_user_id","join","article","findIndex","tagg","push","popularity","toConsumableArray","sort","b","e","indexOf","_this3","className","src","publisherIcon","publisher","pastNice","title","padding","components_Tags","_this4","reduce","toLowerCase","renderArticleListing","_this5","left","setGlobalState","goBack","IOS","chevron_back_default","back_default","settings_default","noShadow","Fragment","user_default","theme","placeholder","onChange","renderArticles","PayWall","lock","part","level","goToGetArticlePage","goToSubscribePage","defaultState","subscribingProcess","selected","periodType","appState","createContext","globalStateProvider","newState","Provider","children","AppState","Consumer","Article","newGlobalState","price","manuallyChanged","paragraphs","react_markdown_default","source","replace","payWall","components_PayWall","genArticle","availiblePeriods","SubscribePage","handleScroll","bind","assertThisInitialized","code","tab","searchOpened","label","pic","description","subscribers","type","subscribing","post","subscriptions","endDate","now","autoDeposit","userId","signedUserId","addEventListener","round","random","removeEventListener","pageYOffset","fixedOverlay","sumPrice","discount","right","search_default","opacity","transition","pointerEvents","renderTabs","top","bottom","step","min","max","Number","oldState","item","find","isTag","priceTimeFactor","splice","subscribe","stopPropagation","preview","info_outline_default","GetOneArticle","NewsChannelDescription","isSelected","PublisherAccount","name","profit","channels","es","width","labels","datasets","backgroundColor","path","initOpenAllowed","onInitRedirect","callSubscribers","_i","subscriber","navigator","func","go","page","back","init","options","ArticleEditor","quillRef","createRef","editor","newTag","newTagModalVisible","availibleChannels","selectedPublishers","rawContentState","convertToRaw","getCurrentContent","markup","draftToMarkdown","payload","publisherId","target","option","react_draft_wysiwyg","editorState","toolbarClassName","wrapperClassName","editorClassName","onEditorStateChange","toolbar","editorToolBar","publish","v","h","inline","inDropdown","component","dropdownClassName","bold","icon","Editor","italic","blockType","list","unordered","ordered","indent","outdent","textAlign","center","justify","colorPicker","popupClassName","colors","link","showOpenOptionOnHover","defaultTargetOption","unlink","emoji","emojis","image","urlEnabled","uploadEnabled","alignmentEnabled","uploadCallback","previewImage","inputAccept","alt","present","mandatory","defaultSize","height","history","undo","redo","App","activePanel","fetchedUser","auto","success","get-one-article","channel-preview","preview-feed","detail","user_id","panels_Home","panels_Feed","panels_Article","user","panels_SubscribePage","articleData","currentArticleData","panels_GetOneArticle","ChannelPreview","panels_PublisherAccount","panels_ArticleEditor","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","error","isLocalhost","Boolean","hostname","match","URL","process","origin","fetch","response","status","headers","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.210c117d.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEgCAYAAAAUg66AAAALC0lEQVR4nO3da1caBwLG8cdBAQHBFnMELznd3aTdGtv9/p+iSWPq5rLpVhS8YAMid4F9kSbdNu0x2jDPjPP/vckbDzwH5X+AMDMLZ+etmQDAIHAPAJBcBAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYEOAANgQIAA2BAiADQECYLPoHoB46Pf7anc6urzoqN3pqNvpaDKb/eZngiBQoZBXaaWoQnFFpZUVLS8vmxYjDhbOzluz638MSTSdTnV8eqparaZer3+r2yjkctrc3tL6+rpSCwufeCHijgDhA5PJREeNhmq1Q41Go09ym+l0WtvbW9qsVpVKpT7JbSL+CBDem0wmOqzXdXhQ0+jqai73sbS09DZEm5taDPgIMukIECRJ3W5P3+/taTAYhHJ/2WxW3+7uKp/PhXJ/iCYCBJ2fn2vvh31Np9NQ7zcIAu3ufK1yuRzq/SI6eA2ccI1GQ3t7z0KPj/T2Q+69vWeq1+uh3zeigQAlWP34WP9+8VLhp+dXU0nPX75S/fjYuAIuBCihms1zvXz+wj3jvZfPX6jZPHfPQMgIUAL1ej0929+3vvL5vamkZ/v76vV67ikIEQFKmHefuzg+87lOlLdhPghQwhwc1NTt3+5bzWHo9vs6OKi5ZyAkBChBhsOhfqpF/8n9U62m4XDonoEQEKAEOTg8jMXbm+l0qoPDQ/cMhIAAJcRkMlG93nDP+GiNxrEmk4l7BuaMACVE4+Qk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\"","module.exports = __webpack_public_path__ + \"static/media/lock.c6371603.svg\";","module.exports = __webpack_public_path__ + \"static/media/hashtag_icon.f013a499.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Group, Div, Header, Gallery, Button, Spinner} from '@vkontakte/vkui';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport axios from 'axios'\nconst osname = platform();\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n  \tif (!window.getGlobalState().currentSubscribtion) {\n\t\t\tsetTimeout(() => this.props.open('subscribe'))\n  \t} else {\n\t\t\tsetTimeout(() => this.props.open('feed'))\n  \t}\n    return  (<Panel id={this.props.id}>\n              <Div>\n                <Spinner />\n              </Div>\n            </Panel>)\n  }\n}\n\nexport default Home;\n","import connect from '@vkontakte/vkui-connect';\r\n\r\nexport const getUrlData = () => {\r\n  const urlData = {};\r\n\r\n  if (window.location.hash.length > 0) {\r\n    const hash = window.location.hash.substr(1);\r\n    for (let hashPart of hash.split('&')) {\r\n      if (hashPart.includes('='))\r\n        urlData[hashPart.split('=')[0]] = hashPart.split('=')[1]\r\n    }\r\n  }\r\n\r\n  return urlData;\r\n}\r\n\r\nexport const clamp = (a, min, max) => {\r\n  return Math.min(max, Math.max(a, min));\r\n}\r\n\r\nexport const capitalize = (string) => {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nexport const tagColor0 = (tag) => {\r\n  const k = 23;\r\n  let string = \"\";\r\n\r\n  for (let i = 0; i < 3; i++)\r\n    string += tag.charAt((i * k) % tag.length);\r\n  console.log(string);\r\n  //Hash function\r\n  return \"#\" + string.split('')\r\n    .map((char, index) =>\r\n      Math.floor(clamp((((string.charCodeAt(index) % k) / k) * 255), 70, 220)).toString(16)\r\n    ).reduce((a, b) => a + b);\r\n}\r\n\r\nexport const tagColor = (tag) => {\r\n  const stylishColors = [\"2770f1\", \"3fb0ac\", \"ba9077\", \"729f98\", \"6534ff\", \"62bcfa\", \"e05038\", \"dc3966\", \"026f52\", \"f36523\", \"e70247\", \"07a5a4\", \"4bae54\", \"c75696\", \"db3849\"];\r\n  const k = 17;\r\n  let hash = 0;\r\n\r\n  tag.split('').forEach((char, index) => {\r\n    hash = hash * k + tag.charCodeAt(index)\r\n    if (index % 4 == 3)\r\n      hash = hash % stylishColors.length;\r\n  });\r\n\r\n  return \"#\" + stylishColors[hash % stylishColors.length];\r\n}\r\n\r\nexport const setUrlData = (urlData) => {\r\n  let newHash = ''\r\n  for (let hashPart in urlData) {\r\n    newHash += hashPart + '=' + urlData[hashPart] + '&'\r\n  }\r\n  const hash = newHash.substring(0, newHash.length - 1)\r\n  connect.send(\"VKWebAppSetLocation\", {\"location\": hash});\r\n  window.location.hash = '#' + hash\r\n}\r\n\r\nexport const changeDataInUrl = (dataDif) => {\r\n  const newUrlData = Object.assign(getUrlData(), dataDif)\r\n  setUrlData(newUrlData)\r\n}\r\n","import React from 'react';\r\nimport {HorizontalScroll, Button} from '@vkontakte/vkui';\r\n\r\nimport { tagColor } from './../utils/utils'\r\n\r\nclass Tags extends React.Component {\r\n  render() {\r\n    let tags = this.props.tags;\r\n    let selectedTags = this.props.selectedTags;\r\n\r\n    return (\r\n      <HorizontalScroll>\r\n      {\r\n        tags.map(tag => {\r\n          let style = {};\r\n          if (typeof selectedTags == \"undefined\" || selectedTags.includes(tag))\r\n            style = {\r\n              margin: \"0 5px\",\r\n              background: tagColor(tag),\r\n              color: \"white\",\r\n            };\r\n          else\r\n            style = {\r\n              margin: \"0 5px\",\r\n              background: \"rgba(1, 1, 1, 0)\",\r\n              color: tagColor(tag),\r\n              boxShadow: \"inset 0px 0px 0px 1px \" + tagColor(tag),\r\n            };\r\n\r\n          return (\r\n            <Button\r\n              onClick={() => this.props.toggleTag(tag)}\r\n              style={style}\r\n            >\r\n              #{tag}\r\n            </Button>\r\n          );\r\n        })\r\n      }\r\n      </HorizontalScroll>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tags;","import {capitalize} from './utils.js';\r\n\r\nexport default class myDate {\r\n  constructor(string, lang) {\r\n    switch(typeof string) {\r\n      case \"undefined\":\r\n        this.dateJS = new Date();\r\n        break;\r\n      case \"string\":\r\n        if (string.length == 0) {\r\n          this.dateJS = new Date();\r\n          break;\r\n        }\r\n        if (!string.includes('.') && !string.includes('/') && !string.includes('-')) {\r\n          this.dateJS = new Date(parseInt(string));\r\n          break;\r\n        }\r\n\r\n        let newString;\r\n\r\n        if (string[2] == '.' || string[2] == '/' || string[2] == '-')\r\n          newString = string.substring(3, 5) + '/' + string.substring(0, 2) + '/' + string.substring(6, 10);\r\n        else if (string[2] == ':' && (string[8] == '.' || string[8] == '/' || string[8] == '-'))\r\n          newString = string.substring(0, 6) + string.substring(9, 11) + '/' + string.substring(6, 8) + '/' + string.substring(12, 16);\r\n        else\r\n          newString = string;\r\n        this.dateJS = new Date(Date.parse(newString));\r\n        break;\r\n      case \"number\":\r\n        this.dateJS = new Date(string);\r\n        break;\r\n      case \"object\":\r\n        this.dateJS = new Date(string.dateJS);\r\n        break;\r\n      default:\r\n        // alert('unexpected typeof date: ' + typeof string);\r\n        this.dateJS = new Date();\r\n        break;\r\n    }\r\n\r\n    switch (lang) {\r\n      case \"RU\":\r\n        this.lang = lang;\r\n        break;\r\n      default:\r\n        this.lang = \"ENG\";\r\n        break;\r\n    }\r\n  }\r\n  setDate(date) {\r\n    this.dateJS = new myDate(date);\r\n  }\r\n  getTime() {\r\n    return this.dateJS.getTime();\r\n  }\r\n\r\n  comp(date) {\r\n    var newDate = new myDate(date);\r\n    return newDate.getTime() - this.dateJS.getTime();\r\n  }\r\n  less(date) {\r\n    var newDate = new myDate(date);\r\n    return this.dateJS.getTime() < newDate.getTime();\r\n  }\r\n  eq(date) {\r\n    var newDate = new Date(date);\r\n    return this.dateJS.getDate() < newDate.getDate() && this.dateJS.getMonth() < newDate.getMonth() && this.dateJS.getFullYear() < newDate.getFullYear();\r\n  }\r\n  sameDay(date) {\r\n    var newDate = new myDate(date);\r\n    return this.day() == newDate.day() && this.month() == newDate.month() && this.year() == newDate.year();\r\n  }\r\n\r\n  addDay(offset) {\r\n    this.dateJS.setDate(this.dateJS.getDate() + offset);\r\n  }\r\n  addMonth(offset) {\r\n    this.dateJS.setMonth(this.dateJS.getMonth() + offset);\r\n  }\r\n  addYear(offset) {\r\n    this.dateJS.setFullYear(this.dateJS.getFullYear() + offset);\r\n  }\r\n  addMinute(offset) {\r\n    this.dateJS.setMinutes(this.dateJS.getMinutes() + offset);\r\n  }\r\n  addHour(offset) {\r\n    this.dateJS.setHours(this.dateJS.getHours() + offset);\r\n  }\r\n\r\n  toString() {\r\n    return this.dateJS.getDate() + \" \" + this.monthString() + \" \" + this.dateJS.getFullYear();\r\n  }\r\n  toStringShort() {\r\n    return this.dateJS.getDate() + \" \" + this.monthStringShort() + \" \" + this.dateJS.getFullYear();\r\n  }\r\n  toStringDot() {\r\n    var dd = (this.dateJS.getDate() < 10 ? \"0\" : \"\") + this.dateJS.getDate();\r\n    var mm = ((this.dateJS.getMonth() + 1 < 10) ? \"0\" : \"\") + (this.dateJS.getMonth() + 1);\r\n    return dd + \".\" + mm + \".\" + this.dateJS.getFullYear();\r\n  }\r\n  toStringSlash() {\r\n    var dd = (this.dateJS.getDate() < 10 ? \"0\" : \"\") + this.dateJS.getDate();\r\n    var mm = ((this.dateJS.getMonth() + 1 < 10) ? \"0\" : \"\") + (this.dateJS.getMonth() + 1);\r\n    return dd + \".\" + mm + \".\" + this.dateJS.getFullYear();\r\n  }\r\n  toStringDash() {\r\n    var dd = (this.dateJS.getDate() < 10 ? \"0\" : \"\") + this.dateJS.getDate();\r\n    var mm = ((this.dateJS.getMonth() + 1 < 10) ? \"0\" : \"\") + (this.dateJS.getMonth() + 1);\r\n    return dd + \".\" + mm + \".\" + this.dateJS.getFullYear();\r\n  }\r\n\r\n  date() {\r\n    switch (this.lang) {\r\n      case \"RU\":\r\n        return this.day() + \" \" + this.monthString();\r\n      default:\r\n        return this.monthString() + \" \" + this.day();\r\n      }\r\n  }\r\n  dateTime() {\r\n    return this.time() + \" \" + capitalize(this.date());\r\n  }\r\n  day() {\r\n    return this.dateJS.getDate();\r\n  }\r\n  month() {\r\n    return this.dateJS.getMonth() + 1;\r\n  }\r\n  monthString() {\r\n    var namesENG = [\"january\", \"february\", \"march\", \"aprill\", \"may\", \"june\", \"july\", \"august\", \"september\", \"october\", \"november\", \"december\"];\r\n    var namesRU = [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"];\r\n    switch(this.lang) {\r\n      case \"RU\":\r\n        return namesRU[this.month() - 1];\r\n      default:\r\n        return namesENG[this.month() - 1];\r\n    }\r\n  }\r\n  monthStringShort() {\r\n    var namesENG = [\"jan\", \"feb\", \"mar\", \"apr\", \"may\", \"jun\", \"jul\", \"aug\", \"sep\", \"oct\", \"nov\", \"dec\"];\r\n    var namesRU = [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"];\r\n\r\n    switch(this.lang) {\r\n      case \"RU\":\r\n        return namesRU[this.month() - 1];\r\n      default:\r\n        return namesENG[this.month() - 1];\r\n      }\r\n  }\r\n\r\n  year() {\r\n    return this.dateJS.getFullYear();\r\n  }\r\n  time() {\r\n    switch(this.lang) {\r\n      case \"RU\":\r\n        return (this.dateJS.getHours() < 10 ? \"0\" : \"\") + this.dateJS.getHours() + \":\" + (this.dateJS.getMinutes() < 10 ? \"0\" : \"\") + this.dateJS.getMinutes();\r\n      default:\r\n        return (this.dateJS.getHours() < 10 ? \"0\" : \"\") + (this.dateJS.getHours() > 12 ? this.dateJS.getHours() - 12 : this.dateJS.getHours()) + \":\" + (this.dateJS.getMinutes() < 10 ? \"0\" : \"\") + this.dateJS.getMinutes() + (this.dateJS.getHours() > 12 ? \" pm\" : \" am\");\r\n      }\r\n  }\r\n  niceTime() {\r\n    if (this.isToday())\r\n      return this.time();\r\n    if (this.isYesterday())\r\n      switch (this.lang) {\r\n        case \"RU\":\r\n          return \"\"\r\n        default:\r\n          return \"yesterday\";\r\n      }\r\n\r\n    var today = new myDate();\r\n    if (today.year() == this.year())\r\n      return capitalize(this.date());\r\n    // return this.day() + \" \" + capitalize(this.monthStringShort()) + \" \" + this.year();\r\n    return this.day() + \" \" + this.monthString() + \" \" + this.year();\r\n  }\r\n  hour() {\r\n    return this.dateJS.getHours();\r\n  }\r\n  minute() {\r\n    return this.dateJS.getMinutes();\r\n  }\r\n\r\n  isToday() {\r\n    var today = new myDate();\r\n    if (today.day() == this.day() && today.month() == this.month() && today.year() == this.year())\r\n      return true;\r\n    return false;\r\n  }\r\n  isYesterday() {\r\n    var today = new myDate();\r\n    if (today.day() - 1 == this.day() && today.month() == this.month() && today.year() == this.year())\r\n      return true;\r\n    return false;\r\n  }\r\n  isTomorrow() {\r\n    var today = new myDate();\r\n    if (today.day() + 1 == this.day() && today.month() == this.month() && today.year() == this.year())\r\n      return true;\r\n    return false;\r\n  }\r\n\r\n  pastSeconds() {\r\n    var today = new myDate();\r\n    return Math.floor((today.getTime() - this.getTime()) / 8.64e7 * 24 * 60 * 60);\r\n  }\r\n  pastMinutes() {\r\n    var today = new myDate();\r\n    return Math.floor((today.getTime() - this.getTime()) / 8.64e7 * 24 * 60);\r\n  }\r\n  pastHours() {\r\n    var today = new myDate();\r\n    return Math.floor((today.getTime() - this.getTime()) / 8.64e7 * 24);\r\n  }\r\n  pastDays() {\r\n    var today = new myDate();\r\n    return Math.floor((today.getTime() - this.getTime()) / 8.64e7);\r\n  }\r\n  pastWeeks() {\r\n    var today = new myDate();\r\n    return Math.floor((today.getTime() - this.getTime()) / 8.64e7 / 7);\r\n  }\r\n  pastMonths() {\r\n    var today = new myDate();\r\n    var months = today.month() - this.month() + (today.year() - this.year()) * 12;\r\n    if (months > 0 && this.day() > today.day())\r\n      return months - 1;\r\n    if (months < 0 && this.day() < today.day())\r\n      return months + 1;\r\n    return months;\r\n  }\r\n  pastYears() {\r\n    return Math.floor(this.pastMonths() / 12);\r\n  }\r\n\r\n  countable(number, word) {\r\n    let countableWord;\r\n    if (Array.isArray(word)) {\r\n      if ((number > 10 && number < 20) || number % 10 > 4 || number % 10 == 0)\r\n        countableWord = word[2];\r\n      else if (number % 10 > 1)\r\n        countableWord = word[1];\r\n      else\r\n        countableWord = word[0];\r\n    }\r\n    else if (number == 1)\r\n      countableWord = word;\r\n    else countableWord = word + \"s\";\r\n\r\n    return number + \" \" + countableWord;\r\n  }\r\n  pastNice() {\r\n    if (this.pastSeconds() < 60)\r\n      return this.countable(this.pastSeconds(), (this.lang == \"RU\" ? [\"\", \"\", \"\"] : \"second\"));\r\n    if (this.pastMinutes() < 60)\r\n      return this.countable(this.pastMinutes(), (this.lang == \"RU\" ? [\"\", \"\", \"\"] : \"minute\"));\r\n    if (this.pastHours() < 24)\r\n      return this.countable(this.pastHours(), (this.lang == \"RU\" ? [\"\", \"\", \"\"] : \"hour\"));\r\n    if (this.pastDays() < 7)\r\n      return this.countable(this.pastDays(), (this.lang == \"RU\" ? [\"\", \"\", \"\"] : \"day\"));\r\n    if (this.pastMonths() < 1)\r\n      return this.countable(this.pastWeeks(), (this.lang == \"RU\" ? [\"\", \"\", \"\"] : \"week\"));\r\n    if (this.pastYears() < 1)\r\n      return this.countable(this.pastMonths(), (this.lang == \"RU\" ? [\"\", \"\", \"\"] : \"month\"));\r\n    return this.countable(this.pastYears(), (this.lang == \"RU\" ? [\"\", \"\", \"\"] : \"year\"));\r\n  }\r\n\r\n  dayOfWeek() {\r\n    var daysENG = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    var daysRU = [\"\", \"\", \"\", \"\", \"\", \"\", \"\"];\r\n\r\n    switch (this.lang) {\r\n      case \"RU\":\r\n        return daysRU[this.dateJS.getDay()];\r\n      default:\r\n        return daysENG[this.dateJS.getDay()];\r\n    }\r\n  }\r\n  dayOfWeekShort() {\r\n    var daysENG = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n    var daysRU = [\"\", \"\", \"\", \"\", \"\", \"\", \"\"];\r\n\r\n    switch (this.lang) {\r\n      case \"RU\":\r\n        return daysRU[this.dateJS.getDay()];\r\n      default:\r\n        return daysENG[this.dateJS.getDay()];\r\n    }\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Group, Div, Gallery, Spinner, Footer, Cell, Search, HorizontalScroll, Button} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon28Settings from '@vkontakte/icons/dist/28/settings';\r\nimport axios from 'axios'\r\nimport ReactMarkdown from 'react-markdown'\r\n\r\nimport Tags from './../components/Tags';\r\nimport { changeDataInUrl } from './../utils/utils';\r\nimport myDate from './../utils/myDate';\r\n\r\nimport publisherIcon from './../img/publisher_icon.png';\r\nimport hashtagIcon from './../img/hashtag_icon.png';\r\nimport IconAccount from '@vkontakte/icons/dist/28/user';\r\n\r\nconst osname = platform();\r\n\r\nclass Feed extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      articles: null,\r\n      searchQuery: \"\",\r\n      selectedTags: [],\r\n      popularTags: [],\r\n      isUserPublisher: false\r\n    }\r\n  }\r\n\r\n\r\n\r\n  componentDidMount () {\r\n    axios.get(`${window.getGlobalState().apiUrl}/tagsAndPublishers`)\r\n      .then(res => {\r\n        const allPublishers = res.data.result.publishers\r\n        this.setState({\r\n          isUserPublisher: allPublishers.filter((channel) => channel.userProfile.id == window.getGlobalState().auth.id).length > 0,\r\n        })\r\n        // console.log(allPublishers)\r\n      }).catch(console.log)\r\n    const globalState = window.getGlobalState()\r\n    let url = ''\r\n    if (globalState.previewFeedMode && (globalState.previewFeedMode.tags.length + globalState.previewFeedMode.publishers.length > 0))\r\n      url = `${window.getGlobalState().apiUrl}/allArticles?userId=${window.getGlobalState().auth.id}&signedUserId=${window.getGlobalState().auth.signed_user_id}` +\r\n        (globalState.previewFeedMode.tags.length > 0 ? `&tags=${globalState.previewFeedMode.tags.join(',')}` : '') +\r\n        (globalState.previewFeedMode.publishers.length > 0 ? `&publishers=${globalState.previewFeedMode.publishers.join(',')}` : '')\r\n    else\r\n      url = `${window.getGlobalState().apiUrl}/articles?userId=${window.getGlobalState().auth.id}&signedUserId=${window.getGlobalState().auth.signed_user_id}`\r\n    axios.get(url).then(res => {\r\n      this.setState({articles: res.data.result.articles});\r\n      let popularTags = [];\r\n      res.data.result.articles.forEach(article => {\r\n        article.tags.forEach(tag => {\r\n          let index = popularTags.findIndex(tagg => tagg.tag == tag);\r\n          if (index === -1)\r\n            popularTags.push({tag: tag, popularity: 1});\r\n          else\r\n            popularTags = [\r\n              ...popularTags.slice(0, index),\r\n              {tag: tag, popularity: (popularTags[index].popularity + 1)},\r\n              ...popularTags.slice(index + 1)\r\n            ];\r\n        });\r\n      });\r\n      popularTags = popularTags\r\n      .sort((a, b) => b.popularity - a.popularity)\r\n      .filter(tag => tag.popularity > 1)\r\n      .map(tag => tag.tag);\r\n      this.setState({popularTags: popularTags});\r\n    }).catch((e) => {\r\n      console.log(e)\r\n      this.setState({\r\n        articles: [],\r\n      })\r\n    })\r\n  }\r\n\r\n  toggleTag(tag) {\r\n    let tags = this.state.selectedTags;\r\n    let index = this.state.selectedTags.indexOf(tag);\r\n    if (index == -1)\r\n      tags.push(tag);\r\n    else\r\n      tags = [...tags.slice(0, index), ...tags.slice(index + 1)];\r\n    this.setState({selectedTags: tags});\r\n  }\r\n\r\n  renderArticleListing(article) {\r\n    // let text = article.article.find(node => node.type == \"text\") || {text: \"\"};\r\n    // let pics = article.article.find(node => node.type == \"gallery\");\r\n    let date = new myDate(article.date, \"RU\");\r\n\r\n    return (\r\n      <Group>\r\n        <Div onClick={() => {\r\n          changeDataInUrl({article: article.id});\r\n          this.props.open(\"article\");\r\n        }}>\r\n          <div className=\"article-publisher\">\r\n            <div className=\"publisher-avatar\">\r\n              <img src={publisherIcon} />\r\n            </div>\r\n            <div className=\"publisher-info\">\r\n              <div className=\"publisher-name\">{article.publisher}</div>\r\n              <div className=\"publishing-time\">{date.pastNice()} </div>\r\n            </div>\r\n          </div>\r\n          <h3 style={{margin: \"0px 0\"}}>{article.title}</h3>\r\n          {/* <div>{article.paragraphs.substr && <ReactMarkdown source={article.paragraphs.replace(/\\\\n/g, '\\n')} />}</div> */}\r\n          {/* <h3 style={{margin: \"0px 0\"}}>{article.title}</h3> */}\r\n          {/* {pics.pics.length > 0 ? <img src={pics.pics[0]} style={{width: \"100%\"}} /> : \"\"}\r\n          <p>{text.text}</p> */}\r\n        </Div>\r\n        <Cell\r\n          style={{\r\n            padding: \"2px 0 7px\"\r\n          }}\r\n        >\r\n          <Tags tags={article.tags} selectedTags={this.state.selectedTags} toggleTag={(tag) => {this.toggleTag(tag)}} />\r\n        </Cell>\r\n      </Group>\r\n    );\r\n  }\r\n  \r\n  renderArticles() {\r\n    // console.log(this.state.articles)\r\n    if (this.state.articles == null || this.state.articles == undefined)\r\n      return <Div><Spinner /></Div>;\r\n    if (this.state.articles.length == 0)\r\n      return <Footer> </Footer>;\r\n    return this.state.articles\r\n    .filter(article =>\r\n      (\r\n        (this.state.selectedTags.map && this.state.selectedTags.length == 0) ||\r\n        this.state.selectedTags.map(tag => article.tags.includes(tag)).reduce((a, b) => a || b)\r\n      ) && (\r\n        article.title.includes(this.state.searchQuery) ||\r\n        // article.article.map(node => node.type ==\"text\" && node.text.includes(this.state.searchQuery)).reduce((a, b) => a || b) ||\r\n        article.tags.map(tag => tag.includes(this.state.searchQuery)).reduce((a, b) => a || b) ||\r\n        article.publisher.toLowerCase().includes(this.state.searchQuery)\r\n      )\r\n    )\r\n    .map(article => this.renderArticleListing(article));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Panel id=\"feed\">\r\n        <PanelHeader\r\n          left={<HeaderButton onClick={() => {\r\n            if (window.getGlobalState().previewFeedMode) {\r\n              window.setGlobalState({previewFeedMode: false})\r\n              this.props.goBack()\r\n            } else {\r\n             this.props.open('subscribe')\r\n            }\r\n         }}>{window.getGlobalState().previewFeedMode ? (osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>) : <div className=\"settings-icon-container\"><Icon28Settings /></div>}</HeaderButton>}\r\n          noShadow={true}\r\n        >{!window.getGlobalState().previewFeedMode ? (<>{this.state.isUserPublisher && <IconAccount className=\"account-icon\" onClick={() => this.props.open('publisher-account')} />} </>) : ' '}</PanelHeader>\r\n        <Search theme=\"default\" placeholder=\"  \" onChange={value => this.setState({value: value})} />\r\n        <Div>\r\n          <small> :</small>\r\n        </Div>\r\n        <Cell\r\n          style={{\r\n            padding: \"0\"\r\n          }}\r\n        >\r\n          <Tags tags={this.state.popularTags} selectedTags={this.state.selectedTags} toggleTag={(tag) => {this.toggleTag(tag)}} />\r\n        </Cell>\r\n        {this.renderArticles()}\r\n      </Panel>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Feed;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Div, Group, Button} from '@vkontakte/vkui';\r\nimport Icon16Lock from '@vkontakte/icons/dist/16/lock';\r\nimport lock from '../img/lock.svg';\r\n\r\nconst osname = platform();\r\n\r\nclass PayWall extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n  render() {\r\n    return   <Div>\r\n               <img className=\"lock-icon\" src={lock}/>\r\n               <Div className=\"payWall-title\">   {this.props.part ? (this.props.part + '%') : ''} ,<br />      :</Div>\r\n               <Div className=\"double-buttons\">\r\n                 <Button level=\"outline\" onClick={() => this.props.goToGetArticlePage()}>    </Button>\r\n                 <Button onClick={() => this.props.goToSubscribePage()}>  </Button>\r\n               </Div>\r\n             </Div>\r\n  }\r\n}\r\n\r\nexport default PayWall","import React from 'react'\r\n\r\nconst defaultState = {\r\n  article: {},\r\n  subscribingProcess: {\r\n    selected: {\r\n      tags: [],\r\n      publishers: []\r\n    },\r\n    periodType: 1\r\n  },\r\n  apiUrl: 'https://agentstvo-adv.ru:3000/api',\r\n  previewFeedMode: false\r\n}\r\nconst appState = React.createContext(defaultState)\r\n\r\n\r\nclass globalStateProvider extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = defaultState\r\n    window.setGlobalState = (newState) => {\r\n      if (typeof newState === 'function') {\r\n        this.setState(newState(Object.assign({}, this.state)))\r\n      } else {\r\n        this.setState(newState)\r\n      }\r\n    }\r\n    window.getGlobalState = () => Object.assign({}, this.state)\r\n  \r\n  }\r\n  componentDidMount() {\r\n    this.setState(defaultState)\r\n  }\r\n  render() {\r\n    return  <appState.Provider value={this.state}>\r\n              {this.props.children}\r\n            </appState.Provider>\r\n  }\r\n}\r\n//              <appState.Consumer>((change) => this.changeListeners.forEach(func => func(change)))</appState.Consumer>\r\n\r\nexport default {\r\n  Consumer: appState.Consumer,\r\n  Provider: globalStateProvider,\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Group, Div, Header, Gallery, Spinner} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport ReactMarkdown from 'react-markdown'\r\nimport axios from 'axios'\r\nimport { getUrlData } from '../utils/utils'\r\nimport PayWall from '../components/PayWall.js'\r\nimport AppState from '../components/AppState'\r\n\r\nconst osname = platform();\r\n\r\nclass Article extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      article: null\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    const urlData = getUrlData()\r\n    if (urlData.article !== undefined && (this.state.article === null || this.state.article.id !== urlData.article)) {\r\n      axios.get(`${window.getGlobalState().apiUrl}/article?userId=${window.getGlobalState().auth.id}&signedUserId=${window.getGlobalState().auth.signed_user_id}&articleId=${urlData.article}`).then(res => {\r\n        const article = res.data.result.article\r\n        this.setState({article})\r\n        const newGlobalState = {\r\n          article: {\r\n            tags: article.tags,\r\n            publisher: article.publisher,\r\n            title: article.title,\r\n            price: article.price,\r\n          }\r\n        }\r\n        if (!window.getGlobalState().subscribingProcess.manuallyChanged)\r\n          newGlobalState.subscribingProcess = {\r\n            selected: {\r\n              tags: article.tags,\r\n              publishers: [article.publisher]\r\n            }\r\n          }\r\n        newGlobalState.subscribingProcess.periodType = window.getGlobalState().subscribingProcess.periodType\r\n        window.setGlobalState(newGlobalState)\r\n      }).catch((e) => {\r\n        console.log(e)\r\n        this.setState({article: {\r\n          title: '...',\r\n          paragraphs: '#   \\\\n\\\\n   '\r\n        }})\r\n      })\r\n    }\r\n  }\r\n  genArticle() {\r\n    return  <React.Fragment>\r\n              {/*this.state.article.article.map((node, i) => {\r\n                const className = i === this.state.article.article.length - 1 && this.state.article.payWall && 'last-text-block'\r\n                switch(node.type) {\r\n                  case 'text':\r\n                    return <Div className={className}>{node.text}</Div>\r\n                    break\r\n                  case 'header':\r\n                    return <Header className={className} level={node.size ? (node.size + '') : '1'}>{node.text}</Header>\r\n                    break\r\n                  case 'gallery':\r\n                    return <Gallery\r\n                        className={className}\r\n                        slideWidth=\"100%\"\r\n                        // style={{ height: 500, width: 600 }}\r\n                        style={{display: \"table\"}}\r\n                        bullets=\"dark\"\r\n                      >{node.pics.map(pic => <img src={pic} style={{width: \"100%\", height: \"auto\"}} /> )}</Gallery>\r\n                    break\r\n                  default:\r\n                    return <Div className={className}>Error, unkonw node type: {node.type}</Div>\r\n                }\r\n              })*/}\r\n              <Div>{this.state.article.paragraphs.substr &&\r\n                <ReactMarkdown source={this.state.article.paragraphs.replace(/\\\\n/g, '\\n')} />}</Div>\r\n              {this.state.article.payWall < 100 && <PayWall\r\n                part={this.state.article.payWall}\r\n                goToGetArticlePage={() => this.props.open('get-one-article')}\r\n                goToSubscribePage={() => this.props.open('subscribe')}\r\n              />}\r\n            </React.Fragment>\r\n  }\r\n  render() {\r\n    console.log(this.state.article)\r\n    return  (<Panel id={this.props.id}>\r\n              <PanelHeader\r\n                left={<HeaderButton onClick={this.props.goBack}>\r\n                  {osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n                </HeaderButton>}\r\n              >\r\n                {this.state.article ? this.state.article.title : ' ...'}\r\n              </PanelHeader>\r\n              {this.state.article && this.state.article.paragraphs ?\r\n                <Group>{this.genArticle()}</Group> :\r\n                <Div><Spinner /></Div>}\r\n            </Panel>)\r\n  }\r\n}\r\n\r\n// const Persik = props => (\r\n// );\r\n\r\n// Persik.propTypes = {\r\n//   id: PropTypes.string.isRequired,\r\n//   go: PropTypes.func.isRequired,\r\n// };\r\n\r\nexport default Article;\r\n","import React from 'react';\r\nimport {Panel, PanelHeader, HeaderButton, platform, Div, Popout, FormLayout, FixedLayout, Cell, List, Group, Search, FormLayoutGroup, Input, osname, InfoRow, IOS, Button, Link, Slider, Tabs, TabsItem} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon24Search from '@vkontakte/icons/dist/24/search';\r\nimport Icon28Info from '@vkontakte/icons/dist/28/info_outline';\r\nimport AppState from '../components/AppState'\r\nimport axios from 'axios'\r\n\r\nconst availiblePeriods = ['', ' ', '', '6 ', '', '5 ']\r\nconst periodTypeToTime = (type) => {\r\n  if (type === 1)\r\n    return 1000 * 60 * 60 * 24 * 7\r\n  if (type === 2)\r\n    return 1000 * 60 * 60 * 24 * 14\r\n  if (type === 3)\r\n    return 1000 * 60 * 60 * 24 * 30\r\n  if (type === 4)\r\n    return 1000 * 60 * 60 * 24 * 30 * 6\r\n  if (type === 5)\r\n    return 1000 * 60 * 60 * 24 * 30 * 12\r\n  return 0\r\n}\r\n\r\nclass SubscribePage extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.handleScroll = this.handleScroll.bind(this)\r\n    this.state = {\r\n      code: '',\r\n      tab: 'publishers',\r\n      searchOpened: false,\r\n      filter: '',\r\n      tags: [{\r\n        label: '',\r\n        pic: 'https://www.telegraf-spb.ru/published/publicdata/B622311/attachments/SC/products_pictures/united-states-flag_enl.jpg',\r\n        description: 'Lorem ipsum dolor sit amet',\r\n        subscribers: 10,\r\n        publishers: ['', ''],\r\n        price: 123\r\n      }],\r\n      publishers: [{\r\n        label: '',\r\n        pic: 'https://www.telegraf-spb.ru/published/publicdata/B622311/attachments/SC/products_pictures/united-states-flag_enl.jpg',\r\n        description: ', , ,    ',\r\n        subscribers: 11,\r\n        price: 123\r\n      }],\r\n    }\r\n  }\r\n  subscribe() {\r\n    const subscribing = window.getGlobalState().subscribingProcess\r\n    axios.post(window.getGlobalState().apiUrl + '/subscriptions', {\r\n      subscriptions: {\r\n        tags: subscribing.selected.tags,\r\n        publishers: subscribing.selected.publishers,\r\n        endDate: new Date(Date.now() + periodTypeToTime(subscribing.periodType)).getTime(),\r\n        autoDeposit: true\r\n      },\r\n      userId: window.getGlobalState().auth.id,\r\n      signedUserId: window.getGlobalState().auth.signed_user_id\r\n    }).then(() => {\r\n      this.props.goBack()\r\n    }).catch(console.log)\r\n  }\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', this.handleScroll)\r\n    axios.get(`${window.getGlobalState().apiUrl}/tagsAndPublishers`).then(res => {\r\n      this.setState({\r\n        tags: res.data.result.tags.map(tag => {\r\n          tag.price = Math.round(Math.random() * 20 * 100) / 100 + 2\r\n          return tag\r\n        }),\r\n        publishers: res.data.result.publishers.map(publisher => {\r\n          publisher.price = Math.round(Math.random() * 20 * 100) / 100 + 2\r\n          return publisher\r\n        })\r\n      })\r\n    }).catch(console.log)\r\n    axios.get()\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.handleScroll)\r\n  }\r\n  handleScroll() {\r\n    if (window.pageYOffset > 73) {\r\n      !this.state.fixedOverlay && this.setState({fixedOverlay: true})\r\n    } else {\r\n      this.state.fixedOverlay && this.setState({fixedOverlay: false})\r\n    }\r\n  }\r\n  // componentDidMount() {\r\n  //   const newState = {selected: {}}\r\n  //   const globalState = window.getGlobalState()\r\n  //   if (globalState.article.publisher)\r\n  //     newState.selected.publishers = [globalState.article.publisher]\r\n  //   if (globalState.article.tags)\r\n  //     newState.selected.tags = globalState.article.tags\r\n  //   this.setState(newState)\r\n  // }\r\n  renderTabs() {\r\n    return  <Tabs>\r\n              <TabsItem\r\n                onClick={() => this.setState({ tab: 'publishers' })}\r\n                selected={this.state.tab === 'publishers'}\r\n              >\r\n                  {this.state.filter === '' ? '' : ('(' + this.state.publishers.filter(publisher => publisher.label.toLowerCase().includes(this.state.filter.toLowerCase())).length + ')')}\r\n              </TabsItem>\r\n              <TabsItem\r\n                onClick={() => this.setState({ tab: 'tags' })}\r\n                selected={this.state.tab === 'tags'}\r\n              >\r\n                Smart- {this.state.filter === '' ? '' : ('(' + this.state.tags.filter(tag => tag.label.toLowerCase().includes(this.state.filter.toLowerCase())).length + ')')}\r\n              </TabsItem>\r\n            </Tabs>\r\n  }\r\n  render() {\r\n    return (\r\n        <AppState.Consumer>\r\n        {(globalState) => {\r\n          const state = globalState.subscribingProcess\r\n          console.log(state)\r\n          let sumPrice = 0\r\n          let discount = 0\r\n          if (state.selected.publishers.length + state.selected.tags.length > 1) {\r\n            discount = (state.selected.publishers.length + state.selected.tags.length) / 15\r\n            if (discount > 0.5)\r\n              discount = 0.5\r\n          }\r\n          return  (<Panel id={this.props.id}>\r\n                    <PanelHeader\r\n                      left={<HeaderButton onClick={this.props.goBack}>\r\n                        {osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n                      </HeaderButton>}\r\n                      noShadow={true}\r\n                      right={\r\n                        <HeaderButton onClick={this.props.goBack}>\r\n                          <Icon24Search />\r\n                        </HeaderButton>\r\n                      }\r\n                    >\r\n                       \r\n                    </PanelHeader>\r\n                    <FixedLayout style={(this.state.fixedOverlay || this.state.filter !== '') ? {opacity: 1, transition: '.3s all', pointerEvents: 'all'} : {opacity: 0, transition: '.3s all', pointerEvents: 'none'}}>\r\n                      <Search placeholder={\"  \" + ( this.state.tab === 'tags' ? '-' : ' ' )} theme=\"default\" onChange={value => this.setState({filter: value})} value={this.state.filter} />\r\n                      {this.renderTabs()}\r\n                    </FixedLayout>\r\n                    <FormLayout>\r\n                      {/*<FormLayoutGroup top=\" \" bottom=\"        \">\r\n                        <Input value={this.state.period} onChange={value=>{this.setState({ code: value })}} />\r\n                      </FormLayoutGroup>*/}\r\n                      <Group top={\" : \" + availiblePeriods[state.periodType - 1]} bottom={''/*'    '*/}>\r\n                        <List>\r\n                          <Div>\r\n                            <Slider\r\n                              step={1}\r\n                              min={0}\r\n                              max={availiblePeriods.length}\r\n                              value={Number(state.periodType)}\r\n                              onChange={value => window.setGlobalState((oldState) => { \r\n                                oldState.subscribingProcess.periodType = value > 0 ? value : 1\r\n                                return oldState\r\n                              })}\r\n                            />\r\n                          </Div>\r\n                        </List>\r\n                      </Group>\r\n                      {(state.selected.publishers.length + state.selected.tags.length > 0) &&\r\n                      <React.Fragment>\r\n                        <Div>\r\n                          <Button level=\"outline\" className=\"pay-subscribtion\" onClick={() => {\r\n                            window.setGlobalState(oldState => {\r\n                              oldState.previewFeedMode = {\r\n                                publishers: oldState.subscribingProcess.selected.publishers,\r\n                                tags: oldState.subscribingProcess.selected.tags,\r\n                              }\r\n                              return oldState\r\n                            })\r\n                            this.props.open('feed')\r\n                          }}>    </Button>\r\n                        </Div>\r\n                        <Group><List>{state.selected.publishers.concat(state.selected.tags).map((label) => {\r\n                          const item = this.state.publishers.concat(this.state.tags).find(a => a.label == label)\r\n                          if (!item)\r\n                            return <Cell>-</Cell>\r\n                          const isTag = this.state.tags.find(a => a.label == label) !== undefined\r\n                          sumPrice += priceTimeFactor(item.price, state.periodType)\r\n                          return  <Cell>\r\n                                    {(isTag ? '#' : '') + item.label} - {priceTimeFactor(item.price, state.periodType)}.\r\n                                    <Button level=\"outline\" className=\"remove-from-subscribtions-btn\"\r\n                                      onClick={() => window.setGlobalState(oldState => {\r\n                                        oldState.subscribingProcess.selected[isTag ? 'tags' : 'publishers'].splice(oldState.subscribingProcess.selected[isTag ? 'tags' : 'publishers'].indexOf(item.label), 1)\r\n                                        return oldState\r\n                                      })}>x</Button>\r\n                                  </Cell>})}\r\n                        <Cell><Button className=\"pay-subscribtion\" onClick={() => this.subscribe()}>   \r\n                          {((discount == 0) ? (' ' + sumPrice + '.') : <React.Fragment> <span className=\"line-throw\">{sumPrice}.</span> {Math.round(sumPrice * (1 - discount) * 100) / 100}.</React.Fragment>)}\r\n                        </Button></Cell>\r\n                        </List></Group>\r\n                      </React.Fragment>}\r\n                      <FormLayoutGroup>\r\n                        {!(!this.state.fixedOverlay && this.state.filter !== '') && this.renderTabs()}\r\n                        {this.state[this.state.tab].filter(item => item.label.toLowerCase().includes(this.state.filter.toLowerCase())).map(item =>\r\n                        <Button level=\"outline\" className=\"subscribe-source-btn\"\r\n                          onClick={() => !state.selected[this.state.tab].includes(item.label) ?\r\n                            window.setGlobalState(oldState => {\r\n                              oldState.subscribingProcess.selected[this.state.tab].push(item.label)\r\n                              oldState.subscribingProcess.manuallyChanged = true\r\n                              return oldState\r\n                            }) :\r\n                            window.setGlobalState(oldState => {\r\n                              return oldState\r\n                              // ----\r\n                              oldState.subscribingProcess.selected[oldState.tab].splice(oldState.selected[this.state.tab].indexOf(item.label), 1)\r\n                              return oldState\r\n                            })\r\n                          }>\r\n                          <img className=\"subscribe-pic\" src={item.pic} />\r\n                          {item.label} - \r\n                          {!state.selected[this.state.tab].includes(item.label) ? (' ' + priceTimeFactor(item.price, state.periodType) + '.') : ''}\r\n                          <Link onClick={(e) => {\r\n                            e.stopPropagation()\r\n                            window.setGlobalState({\r\n                              preview: Object.assign(item, {type: this.state.tab})\r\n                            })\r\n                            this.props.open('channel-preview')\r\n                          }}><Icon28Info /></Link>\r\n                        </Button>)}\r\n                      </FormLayoutGroup>\r\n                    </FormLayout>\r\n                  </Panel>)\r\n          \r\n        }}\r\n        </AppState.Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SubscribePage\r\n\r\nconst priceTimeFactor = (price, periodType) => price * periodType","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Group, Div, Header, Gallery, Button} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nconst osname = platform();\r\n\r\nclass GetOneArticle extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n  render() {\r\n    return  (<Panel id={this.props.id}>\r\n              <PanelHeader\r\n                left={<HeaderButton onClick={this.props.goBack}>\r\n                  {osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n                </HeaderButton>}\r\n              >\r\n                 \"{this.props.article.title}\"\r\n              </PanelHeader>\r\n              <Group>\r\n                <Div className=\"text-center\">\r\n                         \"{this.props.article.title}\" \r\n                </Div>\r\n                <Div>\r\n                  <Button className=\"pay-subscribtion\">{this.props.article.price}.</Button>\r\n                </Div>\r\n              </Group>\r\n              <Group>\r\n                <Div>\r\n                       ,      <br />\r\n                  (   )\r\n                  <Button level=\"outline\" className=\"pay-subscribtion\"> </Button>\r\n                </Div>\r\n              </Group>\r\n            </Panel>)\r\n  }\r\n}\r\n\r\nexport default GetOneArticle;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Group, Div, Header, Gallery, Button} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport AppState from '../components/AppState'\r\nconst osname = platform();\r\n\r\nclass NewsChannelDescription extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n  render() {\r\n    return  (<Panel id={this.props.id}>\r\n              <PanelHeader\r\n                left={<HeaderButton onClick={this.props.goBack}>\r\n                  {osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n                </HeaderButton>}\r\n              >\r\n                {this.props.type} {this.props.label}\r\n              </PanelHeader>\r\n              <AppState.Consumer>{(globalState) => {\r\n                const isSelected = globalState.subscribingProcess.selected.tags.concat(globalState.subscribingProcess.selected.publishers).includes(globalState.preview.label)\r\n                return  <React.Fragment>\r\n                          <Div><img className=\"subscribe-channel-pic\" src={globalState.preview.pic} /></Div>\r\n                          <Div>{globalState.preview.type === 'tags' ? '-' : '  '} {globalState.preview.label}</Div>\r\n                          <Div>{globalState.preview.description}</Div>\r\n                          <Div>{globalState.preview.price}.   </Div>\r\n                          <Div className=\"double-buttons\">\r\n                            <Button level=\"outline\" onClick={() => {\r\n                              window.setGlobalState(oldState => {\r\n                                oldState.previewFeedMode = {tags: [], publishers: []}\r\n                                oldState.previewFeedMode[globalState.preview.type] = [globalState.preview.label]\r\n                                return oldState\r\n                              })\r\n                              this.props.open('feed')\r\n                            }}> </Button>\r\n                            <Button onClick={() => {\r\n                              this.props.goBack()\r\n                              window.setGlobalState(oldState => {\r\n                                if (!isSelected)\r\n                                  oldState.subscribingProcess.selected[globalState.preview.type].push(globalState.preview.label)\r\n                                else\r\n                                  oldState.subscribingProcess.selected[globalState.preview.type].splice(\r\n                                    oldState.subscribingProcess.selected[globalState.preview.type].indexOf(globalState.preview.label), 1)\r\n                                return oldState\r\n                              })\r\n                            }}>{isSelected ? '  ' : '  '}</Button>\r\n                          </Div>\r\n                        </React.Fragment>\r\n              }}</AppState.Consumer>\r\n            </Panel>)\r\n  }\r\n}\r\n\r\nexport default NewsChannelDescription;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Group, Div, Header, Gallery, Button, List, Cell} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport AppState from '../components/AppState'\r\nimport {Doughnut} from 'react-chartjs-2'\r\nimport axios from 'axios'\r\nconst osname = platform();\r\n\r\nclass PublisherAccount extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      name: '',\r\n      subscribers: 12,\r\n      profit: 1000,\r\n      tags: [{\r\n        label: '',\r\n        value: 60\r\n      }, {\r\n        label: '',\r\n        value: 20\r\n      }, {\r\n        label: '',\r\n        value: 10\r\n      }, {\r\n        label: '  ',\r\n        value: 10\r\n      }],\r\n      channels: []\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    axios.get(`${window.getGlobalState().apiUrl}/tagsAndPublishers`)\r\n      .then(res => {\r\n        console.log(res.data.result)\r\n        const allPublishers = res.data.result.publishers\r\n        this.setState({\r\n          channels: allPublishers.filter((channel) => channel.userProfile.id == window.getGlobalState().auth.id).map((channel) => channel.label),\r\n        })\r\n        // console.log(allPublishers)\r\n      }).catch(console.log)\r\n  }\r\n  render() {\r\n    const tags = (() => {\r\n      const coppyOfStateTags = [...this.state.tags]\r\n      const sortedTags = coppyOfStateTags.sort((a, b) => a.value > b.value ? -1 : 1)\r\n      return sortedTags.slice(0, 15)\r\n    })()\r\n    return  (<Panel id={this.props.id}>\r\n              <PanelHeader\r\n                left={<HeaderButton onClick={this.props.goBack}>\r\n                  {osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n                </HeaderButton>}\r\n              >\r\n                {this.props.type} {this.props.label}\r\n              </PanelHeader>\r\n              <Group>\r\n                <List>\r\n                  <Cell className=\"text-center\">\r\n                    <Header className=\"display-block-header\">{this.state.channels.map(channel => <p>{channel}</p>)}</Header>\r\n                    <small>{this.state.channels.length === 1 ? ' ' : ' '}</small>\r\n                  </Cell>\r\n                </List>\r\n              </Group>\r\n              <Doughnut\r\n                width={200}\r\n                data={{\r\n                  labels: tags.map(tag => tag.label),\r\n                  datasets: [{\r\n                    data: tags.map(tag => tag.value),\r\n                    backgroundColor: [\"PeachPuff\", \"DarkSalmon\", \"PapayaWhip\", \"LightYellow\", \"Khaki\", \"MediumPurple\", \"DarkViolet\", \"LightSalmon\", \"IndianRed\", \"LemonChiffon\", \"Salmon\", \"DarkOrchid\", \"Moccasin\", \"LightGoldenrodYellow\", \"BlueViolet\", \"PaleGoldenrod\", \"LightCoral\", \"DarkKhaki\"]\r\n                  }]\r\n                }} />\r\n              <Div className=\"text-center\">  </Div>\r\n              <Group>\r\n                <List>\r\n                  <Div className=\"text-center\">\r\n                    : <span className=\"publisher-profit\">{this.state.profit}.</span>\r\n                    <br />\r\n                    <br />\r\n                    <small> </small>\r\n                  </Div>\r\n                </List>\r\n              </Group>\r\n              <Div className=\"double-buttons\">\r\n                <Button level=\"outline\" onClick={() => {\r\n                  window.setGlobalState(oldState => {\r\n                    oldState.previewFeedMode = {tags: [], publishers: []}\r\n                    oldState.previewFeedMode.publishers = [this.state.name]\r\n                    return oldState\r\n                  })\r\n                  this.props.open('feed')\r\n                }}>  </Button>\r\n                <Button onClick={() => this.props.open('article-editor')}>  </Button>\r\n              </Div>\r\n              {/*<PieChart\r\n                size={300}\r\n                innerHoleSize={200}\r\n                data={this.state.tags.map(tag => ({\r\n                  key: tag.label,\r\n                  value: tag.value\r\n                }))}\r\n              />*/}\r\n            </Panel>)\r\n  }\r\n}\r\n\r\nexport default PublisherAccount","import { changeDataInUrl, getUrlData } from './utils'\r\n\r\nlet subscribers = [], path = ['home'], initOpenAllowed = [], onInitRedirect = {}\r\nconst callSubscribers = () => {\r\n  for (let subscriber of subscribers)\r\n    subscriber(path)\r\n}\r\nconst navigator = {\r\n  subscribe: (func) => { subscribers.push(func) },\r\n  go: (page) => {\r\n    path.push(page)\r\n    callSubscribers()\r\n    changeDataInUrl({page: path.slice(-1)[0]})\r\n  },\r\n  back: () => {\r\n    if (path.length > 1)\r\n      path.splice(path.length - 1, 1)\r\n    callSubscribers()\r\n    changeDataInUrl({page: path.slice(-1)[0]})\r\n  },\r\n  init: (options) => {\r\n    initOpenAllowed = options.initOpenAllowed\r\n    onInitRedirect = options.onInitRedirect\r\n    const urlData = getUrlData()\r\n    if (urlData.page !== undefined) {\r\n      if (initOpenAllowed.includes(urlData.page)) {\r\n        path.push(urlData.page)\r\n        callSubscribers()\r\n      } else if (onInitRedirect[urlData.page] !== undefined) {\r\n        path.push(onInitRedirect[urlData.page])\r\n        callSubscribers()\r\n      }\r\n    }\r\n  }\r\n  // setRoot(root) => {\r\n  //   path = [root]\r\n  //   setTimeout(() => {\r\n  //     for (let subscriber of subscribers)\r\n  //       subscriber(path)\r\n  //   }, 0)\r\n  // }\r\n}\r\n\r\n\r\nexport default navigator","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, Button, platform, IOS, Group, Div, Input, Header, Gallery, Spinner, PopoutWrapper, Select } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport axios from 'axios'\r\n\r\nimport PayWall from '../components/PayWall.js'\r\nimport AppState from '../components/AppState'\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { convertToRaw } from 'draft-js'\r\nimport draftToMarkdown from 'draftjs-to-markdown';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport { tagColor } from './../utils/utils'\r\n\r\nconst osname = platform();\r\n\r\nclass ArticleEditor extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.quillRef = React.createRef()\r\n    this.state = {\r\n      article: [],\r\n      editor: '',\r\n      tags: [],\r\n      newTag : '',\r\n      newTagModalVisible: false,\r\n      availibleChannels: [],\r\n      selectedPublishers: '',\r\n      title: ''\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    axios.get(`${window.getGlobalState().apiUrl}/tagsAndPublishers`)\r\n      .then(res => {\r\n        console.log(res.data.result)\r\n        const allPublishers = res.data.result.publishers\r\n        this.setState({\r\n          availibleChannels: allPublishers.filter((channel) => channel.userProfile.id == window.getGlobalState().auth.id).map((channel) => channel.label),\r\n        })\r\n        // console.log(allPublishers)\r\n      }).catch(console.log)\r\n  }\r\n  publish() {\r\n    const rawContentState = convertToRaw(this.state.editor.getCurrentContent());\r\n    const markup = draftToMarkdown(rawContentState);\r\n    const payload = {\r\n      article: {\r\n        title: this.state.title,\r\n        tags: this.state.tags,\r\n        paragraphs: markup,\r\n        publisher: this.state.selectedPublishers\r\n      },\r\n      publisherId: window.getGlobalState().auth.id\r\n    }\r\n    console.log(payload)\r\n    axios.post(`${window.getGlobalState().apiUrl}/article`, payload)\r\n      .then(res => {\r\n        this.props.goBack()\r\n      }).catch(e => {\r\n        console.log(e)\r\n      })\r\n  }\r\n  render() {\r\n    return  (<Panel id={this.props.id}>\r\n              <PanelHeader\r\n                left={<HeaderButton onClick={this.props.goBack}>\r\n                  {osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n                </HeaderButton>}\r\n              > </PanelHeader>\r\n              <Select placeholder=\"  \" value={this.state.selectedPublishers} onChange={e => this.setState({selectedPublishers: e.target.value})}>\r\n                {this.state.availibleChannels.map(option => <option value={option}>{option}\r\n              </option>)}\r\n              </Select>\r\n              <Group>\r\n                <Input value={this.state.title} placeholder=\" \" onChange={e => this.setState({title: e.target.value})}/>\r\n              </Group>\r\n              <Group className='quill-wrapper'>\r\n                <Editor\r\n                  editorState={this.state.editor}\r\n                  toolbarClassName=\"toolbarClassName\"\r\n                  wrapperClassName=\"wrapperClassName\"\r\n                  editorClassName=\"editorClassName\"\r\n                  onEditorStateChange={(editor) => this.setState({editor})}\r\n                  toolbar={editorToolBar}\r\n                />\r\n              </Group>\r\n              <Group>\r\n                <Div><small>  </small></Div>\r\n                {/* <Div\r\n                  style={{\r\n                    padding: \"0 12px 12px\"\r\n                  }}\r\n                >\r\n                  <Button\r\n                    onClick={() => this.setState({newTagModalVisible: true})}\r\n                    style={{\r\n                      margin: \"0 5px\",\r\n                    }}\r\n                  >\r\n                     \r\n                  </Button>\r\n                  {\r\n                    this.state.tags.map((tag) =>\r\n                      <Button\r\n                        className=\"article-editor-tag\"\r\n                        // level=\"outline\"\r\n                        style={{\r\n                          background: tagColor(tag),\r\n                          margin: \"0 5px\",\r\n                        }}\r\n                        onClick={() => this.setState(oldState => {\r\n                          oldState.tags.splice(oldState.tags.indexOf(tag), 1)\r\n                          return oldState\r\n                        })}\r\n                      >\r\n                        #{tag}\r\n                      </Button>\r\n                    )\r\n                  }\r\n                </Div> */}\r\n\r\n                <Div>{this.state.tags.map((tag) => <Button className=\"article-editor-tag\" level=\"outline\" onClick={() => this.setState(oldState => {\r\n                      oldState.tags.splice(oldState.tags.indexOf(tag), 1)\r\n                      return oldState\r\n                    })}>\r\n                    {tag}\r\n                  </Button>)}\r\n                  <Button level=\"outline\" onClick={() => this.setState({newTagModalVisible: true})}>+</Button>\r\n                </Div></Group>\r\n              <Div className=\"double-buttons\">\r\n                <Button onClick={() => this.publish()}></Button>\r\n              </Div>\r\n              {this.state.newTagModalVisible && <PopoutWrapper v=\"center\" h=\"center\" onClick={() => this.setState({newTagModalVisible: false})}>\r\n                <Group className=\"article-editor-tag-input\" onClick={e => e.stopPropagation()}>\r\n                  <p> </p>\r\n                  <Input value={this.state.newTag} onChange={(e) => this.setState({newTag: e.target.value})}/>\r\n                  <br />\r\n                  <Button\r\n                    onClick={() => this.setState({\r\n                      newTagModalVisible: false,\r\n                      tags: this.state.tags.concat([this.state.newTag]),\r\n                      newTag: ''\r\n                    })}\r\n                  ></Button>\r\n                </Group>\r\n              </PopoutWrapper>}\r\n            </Panel>)\r\n  }\r\n}\r\n\r\nexport default ArticleEditor\r\n\r\n\r\nconst editorToolBar = {\r\n  options: ['inline', 'blockType', 'list', 'link', 'emoji', 'image', 'history'],\r\n  inline: {\r\n    inDropdown: false,\r\n    className: undefined,\r\n    component: undefined,\r\n    dropdownClassName: undefined,\r\n    options: ['bold', 'italic', 'underline'],\r\n    bold: { icon: Editor.bold, className: undefined },\r\n    italic: { icon: Editor.italic, className: undefined },\r\n  },\r\n  blockType: {\r\n    inDropdown: true,\r\n    options: ['Normal', 'H1', 'H2', 'Blockquote', 'Code'],\r\n    className: undefined,\r\n    component: undefined,\r\n    dropdownClassName: undefined,\r\n  },\r\n  list: {\r\n    inDropdown: false,\r\n    className: undefined,\r\n    component: undefined,\r\n    dropdownClassName: undefined,\r\n    options: ['unordered', 'ordered', 'indent', 'outdent'],\r\n    unordered: { icon: Editor.unordered, className: undefined },\r\n    ordered: { icon: Editor.ordered, className: undefined },\r\n    indent: { icon: Editor.indent, className: undefined },\r\n    outdent: { icon: Editor.outdent, className: undefined },\r\n  },\r\n  textAlign: {\r\n    inDropdown: false,\r\n    className: undefined,\r\n    component: undefined,\r\n    dropdownClassName: undefined,\r\n    options: ['left', 'center', 'right', 'justify'],\r\n    left: { icon: Editor.left, className: undefined },\r\n    center: { icon: Editor.center, className: undefined },\r\n    right: { icon: Editor.right, className: undefined },\r\n    justify: { icon: Editor.justify, className: undefined },\r\n  },\r\n  colorPicker: {\r\n    icon: Editor.color,\r\n    className: undefined,\r\n    component: undefined,\r\n    popupClassName: undefined,\r\n    colors: ['rgb(97,189,109)', 'rgb(26,188,156)', 'rgb(84,172,210)', 'rgb(44,130,201)',\r\n      'rgb(147,101,184)', 'rgb(71,85,119)', 'rgb(204,204,204)', 'rgb(65,168,95)', 'rgb(0,168,133)',\r\n      'rgb(61,142,185)', 'rgb(41,105,176)', 'rgb(85,57,130)', 'rgb(40,50,78)', 'rgb(0,0,0)',\r\n      'rgb(247,218,100)', 'rgb(251,160,38)', 'rgb(235,107,86)', 'rgb(226,80,65)', 'rgb(163,143,132)',\r\n      'rgb(239,239,239)', 'rgb(255,255,255)', 'rgb(250,197,28)', 'rgb(243,121,52)', 'rgb(209,72,65)',\r\n      'rgb(184,49,47)', 'rgb(124,112,107)', 'rgb(209,213,216)'],\r\n  },\r\n  link: {\r\n    inDropdown: false,\r\n    className: undefined,\r\n    component: undefined,\r\n    popupClassName: undefined,\r\n    dropdownClassName: undefined,\r\n    showOpenOptionOnHover: true,\r\n    defaultTargetOption: '_self',\r\n    options: ['link', 'unlink'],\r\n    link: { icon: Editor.link, className: undefined },\r\n    unlink: { icon: Editor.unlink, className: undefined },\r\n  },\r\n  emoji: {\r\n    icon: Editor.emoji,\r\n    className: undefined,\r\n    component: undefined,\r\n    popupClassName: undefined,\r\n    emojis: [\r\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\r\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\r\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\r\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\r\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\r\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\r\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\r\n      '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\r\n      '', '', '',\r\n    ],\r\n  },\r\n  /*embedded: {\r\n    icon: Editor.embedded,\r\n    className: undefined,\r\n    component: undefined,\r\n    popupClassName: undefined,\r\n    defaultSize: {\r\n      height: 'auto',\r\n      width: 'auto',\r\n    },\r\n  },*/\r\n  image: {\r\n    icon: Editor.image,\r\n    className: undefined,\r\n    component: undefined,\r\n    popupClassName: undefined,\r\n    urlEnabled: true,\r\n    uploadEnabled: true,\r\n    alignmentEnabled: true,\r\n    uploadCallback: undefined,\r\n    previewImage: false,\r\n    inputAccept: 'image/gif,image/jpeg,image/jpg,image/png,image/svg',\r\n    alt: { present: false, mandatory: false },\r\n    defaultSize: {\r\n      height: 'auto',\r\n      width: 'auto',\r\n    },\r\n  },\r\n  history: {\r\n    inDropdown: false,\r\n    className: undefined,\r\n    component: undefined,\r\n    dropdownClassName: undefined,\r\n    options: ['undo', 'redo'],\r\n    undo: { icon: Editor.undo, className: undefined },\r\n    redo: { icon: Editor.redo, className: undefined },\r\n  },\r\n}","import React from 'react';\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport { View, Spinner, Div } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nimport './styles/main.css';\r\n\r\nimport Home from './panels/Home';\r\nimport Feed from './panels/Feed';\r\nimport Article from './panels/Article';\r\nimport SubscribePage from './panels/SubscribePage';\r\nimport GetOneArticle from './panels/GetOneArticle';\r\nimport ChannelPreview from './panels/ChannelPreview';\r\nimport PublisherAccount from './panels/PublisherAccount';\r\nimport navigator from './utils/navigator'\r\nimport AppState from './components/AppState'\r\nimport ArticleEditor from './panels/ArticleEditor';\r\nimport { getUrlData } from './utils/utils';\r\nimport axios from 'axios'\r\n\r\nclass App extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tactivePanel: getUrlData().page || 'home',\r\n\t\t\tfetchedUser: null,\r\n\t\t\tauth: false\r\n\t\t};\r\n\t\tnavigator.subscribe((path) => this.setState({ activePanel: path.slice(-1)[0] }))\r\n  }\r\n  auth(userProfile) {\r\n  \tif (this.state.auto)\r\n  \t\treturn\r\n\t\taxios.post(window.getGlobalState().apiUrl + '/autorizeUser', {userProfile}).then((res) => {\r\n  \t\tthis.setState({auth: true})\r\n  \t\tif (res.data.success && (res.data.result.subscriptions.tags.length + res.data.result.subscriptions.publishers.length > 0)) {\r\n  \t\t\twindow.setGlobalState({\r\n  \t\t\t\tcurrentSubscribtion: res.data.result.subscriptions\r\n  \t\t\t})\r\n  \t\t} else {\r\n  \t\t\twindow.setGlobalState({\r\n  \t\t\t\tcurrentSubscribtion: {\r\n  \t\t\t\t\ttags: [],\r\n  \t\t\t\t\tpublishers: []\r\n  \t\t\t\t}\r\n  \t\t\t})\r\n  \t\t}\r\n  \t}).catch(console.log)\r\n  }\r\n\tcomponentDidMount() {\r\n\t\tnavigator.subscribe((path) => this.setState({ activePanel: path.slice(-1)[0] }))\r\n    navigator.init({\r\n    \tinitOpenAllowed: ['home', 'feed', 'article', 'subscribe', 'publisher-account', 'article-editor'],\r\n    \tonInitRedirect: {\r\n    \t\t'get-one-article': 'article',\r\n    \t\t'channel-preview': 'subscribe',\r\n    \t\t'preview-feed': 'home'\r\n    \t}\r\n    })\r\n    // --------- hadrcode --------\r\n    /*window.setGlobalState({\r\n    \tauth: {\r\n\t\t\t\tid: 2314852,\r\n\t\t\t\tsigned_user_id: '11',\r\n    \t}\r\n\t\t})\r\n\t\tthis.auth({\r\n\t\t\tid: 2314852,\r\n\t\t\tsigned_user_id: '11',\r\n  \t})*/\r\n    // --------- /hadrcode --------\r\n    \r\n    // --------- not hadrcode --------\r\n\t\t\r\n\t\tconnect.subscribe((e) => {\r\n\t\t\t\r\n\t\t\t// alert(JSON.stringify(e))\r\n\t\t\tswitch (e.detail.type) {\r\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\r\n\t\t\t\t\tthis.setState({ fetchedUser: e.detail.data });\r\n\t\t\t\t\twindow.setGlobalState({\r\n\t\t\t\t\t\tauth: {\r\n\t\t\t\t\t\t\tuser_id: e.detail.data.id,\r\n\t\t\t\t\t\t\tsigned_user_id: e.detail.data.signed_user_id,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.auth({\r\n\t\t\t\t\t\tuser_id: e.detail.data.id,\r\n\t\t\t\t\t\tsigned_user_id: e.detail.data.signed_user_id,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t// console.log(e.detail.type);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n    // --------- /not hadrcode --------\r\n\t\t\r\n\t\tconnect.send('VKWebAppGetUserInfo', {});\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<AppState.Provider>\r\n\t\t\t\t{!this.state.auth ? <Div><Spinner /></Div> :\r\n\t\t\t\t<View activePanel={this.state.activePanel}>\r\n\t\t\t\t\t<Home id=\"home\" fetchedUser={this.state.fetchedUser} open={navigator.go} goBack={navigator.back}/>\r\n\t\t\t\t\t<Feed id=\"feed\" fetchedUser={this.state.fetchedUser} open={navigator.go}  goBack={navigator.back} />\r\n\t\t\t\t\t<Article id=\"article\" open={navigator.go}\r\n\t\t\t\t\t\tuser={this.state.fetchedUser}\r\n\t\t\t\t\t\tgoBack={navigator.back}/>\r\n\t\t\t\t\t<SubscribePage id=\"subscribe\" open={navigator.go} articleData={this.state.currentArticleData} goBack={navigator.back} />\r\n\t\t\t\t\t<GetOneArticle id=\"get-one-article\" open={navigator.go} article={this.state.currentArticleData} goBack={navigator.back}/>\r\n\t\t\t\t\t<ChannelPreview id=\"channel-preview\" open={navigator.go} goBack={navigator.back} />\r\n\t\t\t\t\t<PublisherAccount id=\"publisher-account\" open={navigator.go} goBack={navigator.back} />\r\n\t\t\t\t\t<ArticleEditor id=\"article-editor\" open={navigator.go} goBack={navigator.back} />\r\n\t\t\t\t</View>}\r\n\t\t\t</AppState.Provider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nfunction registerValidSW(swUrl) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the old content will have been purged and\n\t\t\t\t\t\t\t// the fresh content will have been added to the cache.\n\t\t\t\t\t\t\t// It's the perfect time to display a \"New content is\n\t\t\t\t\t\t\t// available; please refresh.\" message in your web app.\n\t\t\t\t\t\t\tconsole.log('New content is available; please refresh.');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\tresponse.headers.get('content-type').indexOf('javascript') === -1\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\n\t\t});\n}\n\nconst isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n\t// [::1] is the IPv6 localhost address.\n\twindow.location.hostname === '[::1]' ||\n\t// 127.0.0.1/8 is considered localhost for IPv4.\n\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\n\nexport default function register() {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Lets check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t'worker. To learn more, visit https://goo.gl/SC7cgQ'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not local host. Just register service worker\n\t\t\t\tregisterValidSW(swUrl);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\nimport registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Service Worker For Cache\nregisterServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}